---
import { SITE } from '../config/site.ts';
import BaseLayout from '../layouts/BaseLayout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

// Resume data from LinkedIn JSON
const linkedInData = {
  "name": "Sergio Cruz",
  "title": "Senior Engineering Leader | Product Strategy | Scaled Teams & Systems",
  "experience": [
    {
      "company": "Ramsey Solutions",
      "location": "Franklin, Tennessee, United States",
      "roles": [
        {
          "title": "Senior Director of Software Engineering",
          "start_date": "Mar 2024",
          "end_date": "Present",
          "responsibilities": [
            "Coach and develop engineering managers to lead healthy, high-performing teams.",
            "Review and guide senior-level IC promotions across the engineering org.",
            "Develop and deploy interviewer training to improve hiring quality.",
            "Collaborate with executives to clarify engineering's role in product discovery.",
            "Contribute to company-wide engineering leveling standards."
          ]
        },
        {
          "title": "Director of Software Engineering",
          "start_date": "Mar 2021",
          "end_date": "Mar 2024",
          "responsibilities": [
            "Led engineering for a 40+ person business unit.",
            "Grew the org to 15+ engineers and leaders.",
            "Standardized practices across squads (CI/CD, testing, architecture).",
            "Used the EOS model for business and tech alignment.",
            "Implemented OKRs to drive ownership and outcomes.",
            "Partnered across functions to improve customer experience."
          ]
        },
        {
          "title": "Associate Director of Software Engineering",
          "start_date": "Mar 2019",
          "end_date": "Mar 2021",
          "responsibilities": [
            "Led two cross-functional squads delivering products and tools.",
            "Scaled team from 2 to 8 engineers to support 3× revenue growth.",
            "Introduced modern tech stacks.",
            "Led structured growth plans and career development."
          ]
        }
      ]
    },
    {
      "company": "Trazi Ventures",
      "location": "Orlando, Florida Area",
      "title": "Engineering Manager",
      "start_date": "May 2017",
      "end_date": "Mar 2019",
      "responsibilities": [
        "First technical hire building consumer-facing app.",
        "Scaled product to handle 7-digit monthly signups and 8-digit revenue.",
        "Hired and mentored technical team.",
        "Defined engineering standards, reviewed code, and led technical growth."
      ]
    },
    {
      "company": "Pluralsight",
      "location": "Orlando, Florida Area",
      "roles": [
        {
          "title": "Tech Lead",
          "start_date": "Dec 2016",
          "end_date": "May 2017",
          "responsibilities": [
            "Led UI efforts for engineering squad.",
            "Built SPAs and integrated with enterprise systems."
          ]
        },
        {
          "title": "Software Engineer",
          "start_date": "Apr 2015",
          "end_date": "Dec 2016",
          "responsibilities": [
            "Built Code School course builder in Ruby on Rails.",
            "Used Docker for secure code sandboxes.",
            "Created and presented content on Node.js, React, Angular.",
            "Spoke at industry conferences."
          ]
        }
      ]
    },
    {
      "company": "GotChosen, Inc.",
      "location": "Orlando, Florida Area",
      "title": "Sr. Software Engineer",
      "start_date": "Jul 2014",
      "end_date": "Apr 2015",
      "responsibilities": [
        "Built dynamic social media app using Angular.",
        "Integrated with in-house API using OAuth.",
        "Contributed to REST API standards."
      ]
    },
    {
      "company": "TravelClick",
      "title": "Software Engineer",
      "start_date": "Feb 2014",
      "end_date": "Jul 2014",
      "responsibilities": [
        "Developed enterprise-grade travel software."
      ]
    },
    {
      "company": "GIVTED",
      "title": "Software Engineer",
      "start_date": "Nov 2012",
      "end_date": "Feb 2014",
      "responsibilities": [
        "First engineering hire for consumer product.",
        "Built end-to-end gift-giving experience."
      ]
    }
  ]
};

// Helper function to format dates
const formatDateRange = (startDate: string, endDate: string) => {
  const formatDate = (date: string) => {
    if (date === 'Present') return 'Present';
    const [month, year] = date.split(' ');
    const monthNames = {
      'Jan': 'January', 'Feb': 'February', 'Mar': 'March', 'Apr': 'April',
      'May': 'May', 'Jun': 'June', 'Jul': 'July', 'Aug': 'August',
      'Sep': 'September', 'Oct': 'October', 'Nov': 'November', 'Dec': 'December'
    };
    return `${monthNames[month]} ${year}`;
  };
  
  return `${formatDate(startDate)} - ${formatDate(endDate)}`;
};

// Flatten all positions from all companies into a single chronological list
const allPositions = linkedInData.experience.flatMap(company => {
  // Handle companies with roles array
  if (company.roles) {
    return company.roles.map(role => ({
      title: role.title,
      company: company.company,
      when: formatDateRange(role.start_date, role.end_date),
      activity: role.responsibilities
    }));
  }
  // Handle companies with direct role properties
  else {
    return [{
      title: company.title,
      company: company.company,
      when: formatDateRange(company.start_date, company.end_date),
      activity: company.responsibilities
    }];
  }
});

// Community accomplishments (from previous data since not in LinkedIn JSON)
const accomplishments = [
  {
    "name": "Orlando Devs, Inc.",
    "position": "President",
    "when": "2016 - March 2018",
    "description": "Nonprofit focused on improving the quality of life of Software Professionals in Central Florida. The organization accompanies a community of over 3,000 members who actively engage both in person and online.",
    "url": "https://orlandodevs.com/"
  },
  {
    "name": "OrlandoJS",
    "position": "Co-organizer",
    "when": "2015 - March 2018",
    "description": "Tech meetup in Orlando that covers all things JavaScript and meets on a monthly basis.",
    "url": "https://meetup.com/OrlandoJS/"
  }
];

// Education (from previous data since not in LinkedIn JSON)
const education = [
  {
    "name": "University of Central Florida",
    "when": "2013-2015",
    "degree": "Bachelor's in Computer Science (Incomplete)"
  },
  {
    "name": "Valencia Community College", 
    "when": "2010-2013",
    "degree": "Associate of Arts"
  }
];
---

<BaseLayout title={`Resume - ${SITE.author}`} description={`Professional resume and experience of ${SITE.author}, Senior Engineering Leader with over 15 years of experience.`}>
  <Navigation />
  
  <main class="pt-16">
    <!-- Hero Section -->
    <section class="bg-white dark:bg-gray-900 py-24">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h1 class="text-4xl sm:text-5xl font-bold text-gray-900 dark:text-white mb-6">
          Resume
        </h1>
        <p class="text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto mb-8">
          Senior Engineering Leader with over 12 years of experience building scalable products, leading high-performing teams, and driving engineering excellence.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/sergio-cruz-resume.pdf" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors">
            <svg class="mr-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
            Download PDF
          </a>
          <a href="mailto:hello@sergio.io" class="inline-flex items-center px-6 py-3 border border-gray-300 dark:border-gray-600 text-base font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors">
            Contact Me
          </a>
        </div>
      </div>
    </section>

    <!-- Professional Summary -->
    <section class="bg-gray-50 dark:bg-gray-800 py-16">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">Professional Summary</h2>
        <div class="prose prose-lg dark:prose-invert max-w-none">
          <p class="text-gray-600 dark:text-gray-300 leading-relaxed">
            Senior Engineering Leader with over 12 years of experience building and scaling engineering organizations from startup to enterprise levels. Proven track record of leading teams from 2 to 40+ engineers while driving technical excellence, product outcomes, and business growth. Expert in modern web technologies, system architecture, and engineering management practices. Passionate about developing engineering talent, establishing scalable processes, and creating inclusive engineering cultures that deliver measurable business impact.
          </p>
        </div>
      </div>
    </section>

    <!-- Experience -->
    <section class="bg-white dark:bg-gray-900 py-16">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-8">Professional Experience</h2>
        
        <div class="space-y-8">
          {allPositions.map((position, index) => (
            <div class={`border-l-4 ${index < 3 ? 'border-primary-600' : 'border-gray-300 dark:border-gray-600'} pl-6`}>
              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white">{position.title}</h3>
                <span class="text-sm text-gray-500 dark:text-gray-400">{position.when}</span>
              </div>
              <p class="text-primary-600 dark:text-primary-400 font-semibold mb-3">{position.company}</p>
              <ul class="text-gray-600 dark:text-gray-300 space-y-2">
                {position.activity.map((item) => (
                  <li>• {item}</li>
                ))}
              </ul>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Community Involvement & Leadership -->
    <section class="bg-gray-50 dark:bg-gray-800 py-16">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-8">Community Involvement & Leadership</h2>
        
        <div class="space-y-6">
          {accomplishments.map((accomplishment) => (
            <div class="border-l-4 border-primary-600 pl-6">
              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2">
                <div class="flex items-center gap-2">
                  <h3 class="text-lg font-bold text-gray-900 dark:text-white">{accomplishment.name}</h3>
                  <span class="text-primary-600 dark:text-primary-400 font-medium">• {accomplishment.position}</span>
                </div>
                <span class="text-sm text-gray-500 dark:text-gray-400">{accomplishment.when}</span>
              </div>
              <p class="text-gray-600 dark:text-gray-300 mb-2">{accomplishment.description}</p>
              {accomplishment.url && (
                <a href={accomplishment.url} target="_blank" rel="noopener noreferrer" class="text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 text-sm font-medium">
                  Visit Website →
                </a>
              )}
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Skills -->
    <section class="bg-white dark:bg-gray-900 py-16">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-8">Core Competencies</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div>
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Leadership & Management</h3>
            <div class="space-y-2">
              <div class="flex flex-wrap gap-2">
                <span class="px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 text-sm rounded-full">Engineering Management</span>
                <span class="px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 text-sm rounded-full">Team Scaling</span>
                <span class="px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 text-sm rounded-full">Technical Strategy</span>
                <span class="px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 text-sm rounded-full">Product Discovery</span>
                <span class="px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 text-sm rounded-full">OKRs & EOS</span>
              </div>
            </div>
          </div>
          
          <div>
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Frontend Technologies</h3>
            <div class="space-y-2">
              <div class="flex flex-wrap gap-2">
                <span class="px-3 py-1 bg-green/20 text-gray-800 dark:text-green text-sm rounded-full">React</span>
                <span class="px-3 py-1 bg-green/20 text-gray-800 dark:text-green text-sm rounded-full">TypeScript</span>
                <span class="px-3 py-1 bg-green/20 text-gray-800 dark:text-green text-sm rounded-full">JavaScript</span>
                <span class="px-3 py-1 bg-green/20 text-gray-800 dark:text-green text-sm rounded-full">Angular</span>
                <span class="px-3 py-1 bg-green/20 text-gray-800 dark:text-green text-sm rounded-full">Ruby on Rails</span>
              </div>
            </div>
          </div>
          
          <div>
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Backend & Infrastructure</h3>
            <div class="space-y-2">
              <div class="flex flex-wrap gap-2">
                <span class="px-3 py-1 bg-pink/20 text-gray-800 dark:text-pink text-sm rounded-full">Node.js</span>
                <span class="px-3 py-1 bg-pink/20 text-gray-800 dark:text-pink text-sm rounded-full">PHP</span>
                <span class="px-3 py-1 bg-pink/20 text-gray-800 dark:text-pink text-sm rounded-full">AWS</span>
                <span class="px-3 py-1 bg-pink/20 text-gray-800 dark:text-pink text-sm rounded-full">Docker</span>
                <span class="px-3 py-1 bg-pink/20 text-gray-800 dark:text-pink text-sm rounded-full">CI/CD</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Education -->
    <section class="bg-gray-50 dark:bg-gray-800 py-16">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-8">Education & Certifications</h2>
        
        <div class="space-y-6">
          {education.map((edu, index) => (
            <div class={`border-l-4 ${index === 0 ? 'border-primary-600' : 'border-gray-300 dark:border-gray-600'} pl-6`}>
              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2">
                <h3 class="text-lg font-bold text-gray-900 dark:text-white">{edu.degree}</h3>
                <span class="text-sm text-gray-500 dark:text-gray-400">{edu.when}</span>
              </div>
              <p class="text-primary-600 dark:text-primary-400 font-semibold">{edu.name}</p>
            </div>
          ))}
          
          <div class="border-l-4 border-gray-300 dark:border-gray-600 pl-6">
            <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-2">AWS Certified Solutions Architect</h3>
            <p class="text-gray-600 dark:text-gray-300">Professional level certification • Valid through 2025</p>
          </div>
          
          <div class="border-l-4 border-gray-300 dark:border-gray-600 pl-6">
            <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-2">Certified Scrum Master (CSM)</h3>
            <p class="text-gray-600 dark:text-gray-300">Scrum Alliance • Valid through 2025</p>
          </div>
        </div>
      </div>
    </section>
  </main>
  
  <Footer />
</BaseLayout>